import{d3 as k,O as M,ab as L,du as O,dw as j}from"./index.4bc17e10.js";const I=(t,l,e)=>t==null||l==null?-1:t.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),x=k({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function S(t,l,e){var f,u;const i=[],m=(f=e==null?void 0:e.default)!=null?f:I,c=e!=null&&e.filterKeys?O(e.filterKeys):!1,y=Object.keys((u=e==null?void 0:e.customKeyFilter)!=null?u:{}).length;if(!(t!=null&&t.length))return i;e:for(let o=0;o<t.length;o++){const n=t[o],h={},a={};let r=-1;if(l&&!(e!=null&&e.noFilter)){if(typeof n=="object"){const b=c||Object.keys(n);for(const d of b){var s;const K=j(n,d,n),v=e==null||(s=e.customKeyFilter)==null?void 0:s[d];if(r=v?v(K,l,n):m(K,l,n),r!==-1&&r!==!1)v?h[d]=r:a[d]=r;else if((e==null?void 0:e.filterMode)==="every")continue e}}else r=m(n,l,n),r!==-1&&r!==!1&&(a.title=r);const F=Object.keys(a).length,g=Object.keys(h).length;if(!F&&!g||(e==null?void 0:e.filterMode)==="union"&&g!==y&&!F||(e==null?void 0:e.filterMode)==="intersection"&&(g!==y||!F))continue}i.push({index:o,matches:{...a,...h}})}return i}function A(t,l,e){const i=M(()=>typeof(e==null?void 0:e.value)!="string"&&typeof(e==null?void 0:e.value)!="number"?"":String(e.value));return{filteredItems:M(()=>{const c=L(l);return S(c,i.value,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}).map(s=>{let{index:f,matches:u}=s;return{item:c[f],matches:u}})})}}export{x as m,A as u};
