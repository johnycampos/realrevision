import{$ as i,cM as T,o as B,ar as L,a5 as o,a as e,ab as s,cJ as x,cK as U,a6 as O,w as a,V as n,S as f,ac as E,e as b,ad as _,cU as F,aa as J,cV as k,f as R,cN as q,cO as P,r as $,Y as G}from"./index.a1270b37.js";import{a as K,b as Y}from"./auth-v2-mask-light.df4dd404.js";import{a as z,b as H,c as Q,d as W}from"./auth-v2-register-illustration-light.c8700081.js";import{t as X}from"./tree-2.953cf293.js";import{_ as Z}from"./AuthProvider.02b9eb81.js";import{u as w}from"./useGenerateImageVariant.579ac417.js";import{r as g,a as ee,e as ae}from"./validators.650e3200.js";import{b as S}from"./route-block.2f1a6263.js";import{V as te,b as I}from"./VCard.64685768.js";import{V as se}from"./VCheckbox.f7e0499a.js";import{V as le}from"./VForm.d61b2f69.js";const oe={class:"auth-logo d-flex align-start gap-x-3"},re={class:"font-weight-semibold leading-normal text-2xl text-uppercase"},ne={class:"d-flex align-center justify-center w-100 pa-10 pe-0"},ie=o("h5",{class:"text-h5 font-weight-semibold mb-1"}," Adventure starts here \u{1F680} ",-1),ue=o("p",{class:"mb-0"}," Make your app management easy and fun! ",-1),de={class:"d-flex align-center mt-1 mb-4"},ce=o("span",{class:"me-1"},"I agree to",-1),me=o("a",{href:"javascript:void(0)",class:"text-primary"},"privacy policy & terms",-1),pe=R(" Sign up "),fe=o("span",null,"Already have an account?",-1),_e=R(" Sign in instead "),ge=o("span",{class:"mx-4"},"or",-1),Ve={__name:"register",setup(he){const V=i(),d=i("johnDoe"),c=i("john@example.com"),m=i("john@MATERIO#123"),h=i(!0),v=q(),y=P(),D=T(),C=i({email:void 0,password:void 0}),N=()=>{G.post("/auth/register",{username:d.value,email:c.value,password:m.value}).then(r=>{const{accessToken:t,userData:p,userAbilities:l}=r.data;return localStorage.setItem("userAbilities",JSON.stringify(l)),D.update(l),localStorage.setItem("userData",JSON.stringify(p)),localStorage.setItem("accessToken",JSON.stringify(t)),v.query.to?y.replace(String(v.query.to)):y.replace("/"),null}).catch(r=>{const{errors:t}=r.response.data;C.value=t,console.error(r.response.data)})},j=w(W,Q,H,z,!0),A=w(Y,K),u=i(!1),M=()=>{var r;(r=V.value)==null||r.validate().then(({valid:t})=>{t&&N()})};return(r,t)=>{const p=$("RouterLink");return B(),L("div",null,[o("div",oe,[e(s(U),{nodes:s(x).app.logo},null,8,["nodes"]),o("h1",re,O(s(x).app.title),1)]),e(b,{"no-gutters":"",class:"auth-wrapper"},{default:a(()=>[e(n,{lg:"8",class:"d-none d-lg-flex align-center justify-center position-relative"},{default:a(()=>[o("div",ne,[e(f,{"max-width":"768px",src:s(j),class:"auth-illustration"},null,8,["src"])]),e(f,{width:150,src:s(X),class:"auth-footer-start-tree"},null,8,["src"]),e(f,{class:"auth-footer-mask",src:s(A)},null,8,["src"])]),_:1}),e(n,{cols:"12",lg:"4",class:"auth-bg d-flex align-center justify-center"},{default:a(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(I,null,{default:a(()=>[ie,ue]),_:1}),e(I,null,{default:a(()=>[e(s(le),{ref_key:"refVForm",ref:V,onSubmit:E(M,["prevent"])},{default:a(()=>[e(b,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(_,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=l=>d.value=l),rules:[s(g),s(ee)],label:"Username"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(_,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=l=>c.value=l),rules:[s(g),s(ae)],label:"Email",type:"email"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(_,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=l=>m.value=l),rules:[s(g)],label:"Password",type:u.value?"text":"password","append-inner-icon":u.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":t[3]||(t[3]=l=>u.value=!u.value)},null,8,["modelValue","rules","type","append-inner-icon"]),o("div",de,[e(se,{id:"privacy-policy",modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=l=>h.value=l),inline:""},null,8,["modelValue"]),e(F,{for:"privacy-policy",class:"pb-1",style:{opacity:"1"}},{default:a(()=>[ce,me]),_:1})]),e(J,{block:"",type:"submit"},{default:a(()=>[pe]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center text-base"},{default:a(()=>[fe,e(p,{class:"text-primary ms-2",to:{name:"login"}},{default:a(()=>[_e]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(k),ge,e(k)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:a(()=>[e(Z)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})])}}};typeof S=="function"&&S(Ve);export{Ve as default};
